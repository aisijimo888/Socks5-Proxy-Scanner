# é…ç½®æŒ‡å—

æœ¬æŒ‡å—æ¶µç›–æ‰€æœ‰é…ç½®ç›¸å…³çš„å†…å®¹ï¼ŒåŒ…æ‹¬è¶…æ—¶æ—¶é—´ã€é»‘åå•å’Œå›½å®¶ç™½åå•çš„é…ç½®ã€‚

---

## ğŸ“‘ ç›®å½•

1. [è¶…æ—¶æ—¶é—´é…ç½®](#è¶…æ—¶æ—¶é—´é…ç½®)
2. [é»‘åå•é…ç½®](#é»‘åå•é…ç½®)
3. [å›½å®¶ç™½åå•é…ç½®](#å›½å®¶ç™½åå•é…ç½®)

---

# è¶…æ—¶æ—¶é—´é…ç½®

## ğŸ“Š æ¨èè¶…æ—¶é…ç½®

### åŸºäºä½¿ç”¨åœºæ™¯

| åœºæ™¯ | æ¨èè¶…æ—¶(ç§’) | å¹¶å‘æ•° | è¯´æ˜ |
|------|------------|--------|------|
| **å¿«é€Ÿæ‰«æ** | 5-8ç§’ | 100-200 | å¿«é€Ÿè·å–å¯ç”¨ä»£ç†ï¼Œå®¹å¿å°‘é‡æ¼æ£€ |
| **æ ‡å‡†æ‰«æ** â­ | 10-15ç§’ | 50-100 | å¹³è¡¡é€Ÿåº¦å’Œå‡†ç¡®æ€§(æ¨è) |
| **ç²¾ç¡®æ‰«æ** | 20-30ç§’ | 20-50 | æœ€å¤§åŒ–ä»£ç†å‘ç°ï¼Œé€‚åˆåˆ†æ |
| **GitHub Actions** | 10ç§’ | 100 | CIç¯å¢ƒï¼Œé¿å…è¶…æ—¶ |

### ç½‘ç»œç¯å¢ƒå½±å“

- **å›½å†…ç½‘ç»œ**: 15ç§’ (è®¿é—®å›½å¤–æºè¾ƒæ…¢)
- **æµ·å¤–æœåŠ¡å™¨**: 10ç§’ (è®¿é—®å¿«)
- **ç§»åŠ¨ç½‘ç»œ**: 20ç§’ (ç½‘ç»œæ³¢åŠ¨å¤§)

## ğŸ¯ æœ€ä½³å®è·µ

### æ¨èç»„åˆ

| ä»£ç†æ•°é‡ | è¶…æ—¶ | å¹¶å‘ | é¢„è®¡è€—æ—¶ |
|---------|------|------|---------|
| 100 | 10s | 50 | ~20s |
| 500 | 10s | 100 | ~50s |
| 1000 | 10s | 100 | ~1.7min |
| 5000 | 8s | 200 | ~3.3min |

### æ€§èƒ½å…¬å¼

```
æ€»æ—¶é—´ â‰ˆ (ä»£ç†æ•° / å¹¶å‘æ•°) Ã— è¶…æ—¶æ—¶é—´
```

## ğŸ’¡ å¿«é€Ÿå‚è€ƒ

**æ—¥å¸¸ä½¿ç”¨:**
```bash
python proxy_scanner_enhanced.py --timeout 10 --max-concurrency 50
```

**å¿«é€Ÿæ‰«æ:**
```bash
python proxy_scanner_enhanced.py --timeout 8 --max-concurrency 100
```

**ç²¾ç¡®æ‰«æ:**
```bash
python proxy_scanner_enhanced.py --timeout 15 --max-concurrency 30
```

---

# é»‘åå•é…ç½®

IPé»‘åå•æœºåˆ¶å¯é¿å…é‡å¤éªŒè¯å·²çŸ¥å¤±è´¥çš„ä»£ç†ï¼ŒèŠ‚çœ50%ä»¥ä¸Šçš„æ‰«ææ—¶é—´ã€‚

## ğŸ¯ åŠŸèƒ½ç‰¹ç‚¹

### æ ¸å¿ƒåŠŸèƒ½

- âœ… **è‡ªåŠ¨é»‘åå•** - è¿ç»­å¤±è´¥è‡ªåŠ¨åŠ å…¥
- âœ… **æ‰‹åŠ¨ç®¡ç†** - æ·»åŠ /ç§»é™¤é»‘åå•
- âœ… **ç»Ÿè®¡åˆ†æ** - é»‘åå•è¯¦ç»†ç»Ÿè®¡
- âœ… **æ™ºèƒ½è¿‡æ»¤** - æ‰«ææ—¶è‡ªåŠ¨è·³è¿‡

### æ•°æ®åº“è¡¨ç»“æ„

```sql
CREATE TABLE proxy_blacklist (
    proxy_address TEXT UNIQUE NOT NULL,
    fail_count INTEGER DEFAULT 1,
    first_failed TIMESTAMP,
    last_failed TIMESTAMP,
    reason TEXT,
    auto_added BOOLEAN
)
```

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### å¯ç”¨é»‘åå•

```bash
# å¯ç”¨é»‘åå•è¿‡æ»¤
python proxy_scanner_enhanced.py --enable-blacklist

# å¯ç”¨è‡ªåŠ¨é»‘åå•(æ¨è)
python proxy_scanner_enhanced.py --enable-blacklist --auto-blacklist

# è‡ªå®šä¹‰å¤±è´¥é˜ˆå€¼
python proxy_scanner_enhanced.py --enable-blacklist --auto-blacklist --blacklist-threshold 3
```

### Python API

```python
from proxy_database import ProxyDatabase

db = ProxyDatabase()

# æ‰‹åŠ¨æ·»åŠ 
db.add_to_blacklist("1.2.3.4:1080", "æ‰‹åŠ¨æ ‡è®°ä¸ºä½è´¨é‡")

# æ£€æŸ¥æ˜¯å¦åœ¨é»‘åå•
if db.is_blacklisted("1.2.3.4:1080"):
    print("åœ¨é»‘åå•ä¸­")

# è‡ªåŠ¨é»‘åå•
db.auto_blacklist_failing_proxies(
    fail_threshold=5,  # å¤±è´¥5æ¬¡
    days=7             # æ£€æŸ¥æœ€è¿‘7å¤©
)

# è·å–ç»Ÿè®¡
stats = db.get_blacklist_stats()
print(f"é»‘åå•æ€»æ•°: {stats['total_blacklisted']}")
```

## ğŸ“Š æ•ˆæœå¯¹æ¯”

| æŒ‡æ ‡ | æœªå¯ç”¨ | å·²å¯ç”¨ | æå‡ |
|------|--------|--------|------|
| æ‰«ææ—¶é—´ | 200s | 100s | â¬‡ï¸ 50% |
| ç½‘ç»œè¯·æ±‚ | 1000 | 500 | â¬‡ï¸ 50% |
| æˆåŠŸç‡ | 30% | 60% | â¬†ï¸ 100% |

## ğŸ’¡ é…ç½®å»ºè®®

### æ¨èé…ç½®

```python
AUTO_BLACKLIST_CONFIG = {
    'fail_threshold': 5,      # è¿ç»­å¤±è´¥5æ¬¡
    'check_days': 7,          # æ£€æŸ¥æœ€è¿‘7å¤©
    'blacklist_duration': 30  # é»‘åå•ä¿ç•™30å¤©
}
```

### ä½•æ—¶ä½¿ç”¨

**å»ºè®®å¯ç”¨:**
- âœ… å®šæœŸè‡ªåŠ¨æ‰«æ
- âœ… å¤§é‡ä»£ç†æ±  (1000+)
- âœ… æœ‰å†å²æ•°æ®

**ä¸å»ºè®®:**
- âŒ é¦–æ¬¡è¿è¡Œ
- âŒ ä»£ç†æºä¸ç¨³å®š
- âŒ æµ‹è¯•ç¯å¢ƒ

---

# å›½å®¶ç™½åå•é…ç½®

é€šè¿‡å›½å®¶ç™½åå•è¿‡æ»¤ï¼Œå¯å°†æˆåŠŸç‡ä»30%æå‡åˆ°80%ã€‚

## ğŸŒ æ¨èé…ç½®æ–¹æ¡ˆ

### â­ æ–¹æ¡ˆ1: æ ¸å¿ƒç²¾é€‰ (æœ€æ¨è)

**åªä¿ç•™æœ€ä¼˜è´¨çš„5ä¸ªå›½å®¶**

```python
target_countries = [
    "United States",   # ğŸ‡ºğŸ‡¸ ç¾å›½ - ä»£ç†æœ€å¤šï¼Œé€Ÿåº¦å¿«
    "Japan",          # ğŸ‡¯ğŸ‡µ æ—¥æœ¬ - äºšæ´²æœ€ä½³ï¼Œç¨³å®š
    "Germany",        # ğŸ‡©ğŸ‡ª å¾·å›½ - æ¬§æ´²æœ€ä½³ï¼Œéšç§å¥½
    "Singapore",      # ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡ - äºšæ´²ä½å»¶è¿Ÿ
    "Netherlands",    # ğŸ‡³ğŸ‡± è·å…° - æ¬§æ´²ä¼˜é€‰ï¼Œé€Ÿåº¦å¿«
]
```

**ç‰¹ç‚¹:**
- æˆåŠŸç‡: ~80%+
- ä»£ç†æ•°é‡: 100-500ä¸ª
- é€Ÿåº¦: ä¼˜ç§€

### ğŸ’ æ–¹æ¡ˆ2: å¹³è¡¡é…ç½® (å½“å‰é»˜è®¤)

**ä¿ç•™13ä¸ªä¼˜è´¨å›½å®¶**

```python
target_countries = [
    # æ ¸å¿ƒ5å›½
    "United States", "Japan", "Germany", "Singapore", "Netherlands",
    # æ‰©å±•8å›½
    "United Kingdom", "Canada", "France", "South Korea", 
    "Taiwan", "Switzerland", "Sweden", "Australia",
]
```

**ç‰¹ç‚¹:**
- æˆåŠŸç‡: ~60-70%
- ä»£ç†æ•°é‡: 500-2000ä¸ª
- åœ°åŒºè¦†ç›–: å…¨é¢

### ğŸŒ æ–¹æ¡ˆ3: ä¸é™åˆ¶

```python
target_countries = None  # æˆ– []
```

**ç‰¹ç‚¹:**
- æˆåŠŸç‡: ~20-40%
- ä»£ç†æ•°é‡: æœ€å¤š
- è´¨é‡å‚å·®ä¸é½

## ğŸ“Š å›½å®¶è´¨é‡è¯„çº§

### Sçº§ (æœ€ä¼˜)

| å›½å®¶ | é€Ÿåº¦ | ç¨³å®šæ€§ | æ•°é‡ | æ¨è |
|------|------|--------|------|------|
| ğŸ‡ºğŸ‡¸ ç¾å›½ | â­â­â­â­â­ | â­â­â­â­ | â­â­â­â­â­ | âœ… å¿…é€‰ |
| ğŸ‡¯ğŸ‡µ æ—¥æœ¬ | â­â­â­â­â­ | â­â­â­â­â­ | â­â­â­â­ | âœ… å¿…é€‰ |
| ğŸ‡©ğŸ‡ª å¾·å›½ | â­â­â­â­ | â­â­â­â­â­ | â­â­â­â­ | âœ… å¿…é€‰ |
| ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡ | â­â­â­â­â­ | â­â­â­â­â­ | â­â­â­ | âœ… å¿…é€‰ |
| ğŸ‡³ğŸ‡± è·å…° | â­â­â­â­â­ | â­â­â­â­ | â­â­â­â­ | âœ… å¿…é€‰ |

### Açº§ (ä¼˜ç§€)

| å›½å®¶ | æ¨èæŒ‡æ•° |
|------|----------|
| ğŸ‡¬ğŸ‡§ è‹±å›½ | â­ æ¨è |
| ğŸ‡¨ğŸ‡¦ åŠ æ‹¿å¤§ | â­ æ¨è |
| ğŸ‡¨ğŸ‡­ ç‘å£« | â­ æ¨è |
| ğŸ‡¸ğŸ‡ª ç‘å…¸ | â­ æ¨è |

### âŒ ä¸æ¨è

| å›½å®¶ | åŸå›  |
|------|------|
| ğŸ‡­ğŸ‡° é¦™æ¸¯ | å®¡æŸ¥é£é™©é«˜ï¼Œç¨³å®šæ€§å·® |
| ğŸ‡·ğŸ‡º ä¿„ç½—æ–¯ | åœ°ç¼˜æ”¿æ²»é£é™© |
| ğŸ‡¨ğŸ‡³ ä¸­å›½ | ä¸¥æ ¼ç½‘ç»œå®¡æŸ¥ |
| ğŸ‡®ğŸ‡³ å°åº¦ | é€Ÿåº¦æ…¢ï¼Œè´¨é‡ä¸ç¨³å®š |

## ğŸ”§ å¦‚ä½•ä¿®æ”¹é…ç½®

### æ–¹æ³•1: ç¼–è¾‘config.py

```python
# æ‰“å¼€ config.py
# æ‰¾åˆ° target_countries éƒ¨åˆ†

self.target_countries = [
    "United States",    # ä¿ç•™
    "Japan",           # ä¿ç•™
    # "Taiwan",        # æ³¨é‡Šæ‰ä¸éœ€è¦çš„
]
```

### æ–¹æ³•2: ç¦ç”¨è¿‡æ»¤

```python
self.target_countries = None  # ä¸è¿‡æ»¤
```

## ğŸ“ˆ å®é™…æ•°æ®å‚è€ƒ

| é…ç½® | åŸå§‹ä»£ç† | éªŒè¯æˆåŠŸ | æˆåŠŸç‡ |
|------|---------|---------|--------|
| ä¸è¿‡æ»¤ | 5000 | 1500 | 30% |
| æ ¸å¿ƒ5å›½ | 5000 | 650 | 81% |
| å…¨éƒ¨13å›½ | 5000 | 1200 | 60% |

## ğŸ’¡ é€‰æ‹©å»ºè®®

### æŒ‰ä½¿ç”¨åœºæ™¯

**æ—¥å¸¸æµè§ˆ:**
```python
["United States", "Japan", "Germany", "Singapore", "Netherlands"]
```

**çˆ¬è™«/é‡‡é›†:**
```python
# ä¿ç•™æ‰€æœ‰13ä¸ªå›½å®¶
```

**ç‰¹å®šåœ°åŒº:**
```python
# äºšæ´²ä¼˜å…ˆ
["Japan", "Singapore", "South Korea", "Taiwan"]

# æ¬§æ´²ä¼˜å…ˆ
["Germany", "Netherlands", "United Kingdom", "Switzerland"]
```

---

## ğŸ¯ å¿«é€Ÿå‚è€ƒ

### æ¨èæ—¥å¸¸é…ç½®

```bash
# ä½¿ç”¨é»˜è®¤é…ç½® (13å›½ç™½åå• + é»‘åå•)
python proxy_scanner_enhanced.py \
  --timeout 10 \
  --max-concurrency 50 \
  --enable-blacklist \
  --auto-blacklist
```

### é«˜è´¨é‡é…ç½®

```bash
# æ ¸å¿ƒ5å›½ + æ›´é•¿è¶…æ—¶
python proxy_scanner_enhanced.py \
  --timeout 15 \
  --max-concurrency 30
  
# ç„¶åç¼–è¾‘ config.py åªä¿ç•™æ ¸å¿ƒ5å›½
```

### å¤§é‡ä»£ç†é…ç½®

```bash
# ä¸é™åˆ¶å›½å®¶ + å¿«é€Ÿæ‰«æ
python proxy_scanner_enhanced.py \
  --timeout 8 \
  --max-concurrency 100
  
# è®¾ç½® config.py: target_countries = None
```

---

**é…ç½®å®Œæˆï¼** æ ¹æ®æ‚¨çš„éœ€æ±‚é€‰æ‹©åˆé€‚çš„é…ç½®æ–¹æ¡ˆã€‚
